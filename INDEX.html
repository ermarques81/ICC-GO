<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ICC GO - Guia de Bolso PS</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .main-button {
            transition: all 0.2s ease-in-out;
        }
        .main-button:hover {
            transform: translateY(-4px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        .checklist-item {
            transition: all 0.2s ease;
            cursor: pointer;
        }
        .checklist-item.checked {
            background-color: #dcfce7; /* green-100 */
            color: #166534; /* green-800 */
        }
        .decision-btn {
            transition: all 0.2s ease;
        }
        .decision-btn.selected {
            background-color: #2563eb; /* blue-600 */
            color: white;
            transform: scale(1.05);
        }
        .calculator-tab.active {
            border-bottom-color: #2563eb;
            color: #2563eb;
        }
        .screen {
            display: none;
        }
        .screen.active {
            display: block;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div id="app-container" class="max-w-md mx-auto bg-white min-h-screen shadow-lg">

        <!-- Tela Inicial (Dashboard) -->
        <div id="dashboard" class="screen active p-6">
            <header class="text-center mb-8">
                <h1 class="text-3xl font-bold text-blue-600">ICC GO</h1>
                <p class="text-gray-500">Seu Guia R√°pido de Insufici√™ncia Card√≠aca no PS</p>
            </header>
            <main class="space-y-4">
                <button onclick="showScreen('avaliacao-imediata')" class="main-button w-full bg-blue-500 text-white p-4 rounded-lg shadow-md flex items-center justify-center text-lg">
                    <span class="text-2xl mr-4">üöë</span> AVALIA√á√ÉO IMEDIATA
                </button>
                <button onclick="showScreen('estratificar-tratar')" class="main-button w-full bg-blue-500 text-white p-4 rounded-lg shadow-md flex items-center justify-center text-lg">
                    <span class="text-2xl mr-4">üìä</span> ESTRATIFICAR & TRATAR
                </button>
                <button onclick="showScreen('calculadora-drogas')" class="main-button w-full bg-blue-500 text-white p-4 rounded-lg shadow-md flex items-center justify-center text-lg">
                    <span class="text-2xl mr-4">üíä</span> CALCULADORA DE DROGAS
                </button>
                <button onclick="showScreen('investigar-causa')" class="main-button w-full bg-blue-500 text-white p-4 rounded-lg shadow-md flex items-center justify-center text-lg">
                    <span class="text-2xl mr-4">üîç</span> INVESTIGAR A CAUSA
                </button>
                <button onclick="showScreen('criterios-destino')" class="main-button w-full bg-blue-500 text-white p-4 rounded-lg shadow-md flex items-center justify-center text-lg">
                    <span class="text-2xl mr-4">‚û°Ô∏è</span> CRIT√âRIOS DE DESTINO
                </button>
            </main>
        </div>

        <!-- Tela de Avalia√ß√£o Imediata -->
        <div id="avaliacao-imediata" class="screen">
            <header class="bg-gray-800 text-white p-4 flex items-center">
                <button onclick="showScreen('dashboard')" class="text-xl mr-4"><i class="fas fa-arrow-left"></i></button>
                <h2 class="text-xl font-semibold">üöë Avalia√ß√£o Imediata</h2>
            </header>
            <main class="p-6">
                <p class="text-sm text-gray-500 mb-4 text-center">CHECKLIST DE CHEGADA (Primeiros 10 min)</p>
                <div id="checklist-chegada" class="space-y-3">
                    <div class="checklist-item bg-gray-50 border p-3 rounded-lg flex items-center">
                        <i class="far fa-square mr-3"></i><i class="fas fa-check-square mr-3 hidden"></i>
                        <span>Posicionar paciente sentado (Fowler)</span>
                    </div>
                    <div class="checklist-item bg-gray-50 border p-3 rounded-lg flex items-center">
                        <i class="far fa-square mr-3"></i><i class="fas fa-check-square mr-3 hidden"></i>
                        <span>Instalar monitoriza√ß√£o card√≠aca e ox√≠metro</span>
                    </div>
                    <div class="checklist-item bg-gray-50 border p-3 rounded-lg flex items-center">
                        <i class="far fa-square mr-3"></i><i class="fas fa-check-square mr-3 hidden"></i>
                        <span>Ofertar O‚ÇÇ para manter SpO‚ÇÇ > 90%</span>
                    </div>
                    <div class="checklist-item bg-gray-50 border p-3 rounded-lg flex items-center">
                        <i class="far fa-square mr-3"></i><i class="fas fa-check-square mr-3 hidden"></i>
                        <span>Obter 2 acessos venosos perif√©ricos</span>
                    </div>
                     <div class="bg-yellow-100 border-l-4 border-yellow-500 p-4 rounded-r-lg">
                        <p class="font-bold">Decis√£o Cr√≠tica: Iniciar VNI (CPAP/BiPAP)?</p>
                        <p class="text-sm">SIM se desconforto respirat√≥rio, tiragem ou hipoxemia.</p>
                    </div>
                    <div class="checklist-item bg-gray-50 border p-3 rounded-lg flex items-center">
                        <i class="far fa-square mr-3"></i><i class="fas fa-check-square mr-3 hidden"></i>
                        <span>Coletar ECG</span>
                    </div>
                    <div class="checklist-item bg-gray-50 border p-3 rounded-lg flex items-center">
                        <i class="far fa-square mr-3"></i><i class="fas fa-check-square mr-3 hidden"></i>
                        <span>Coletar exames (BNP, Troponina, etc.)</span>
                    </div>
                </div>
                <button onclick="showScreen('estratificar-tratar')" class="mt-8 w-full bg-green-500 text-white p-3 rounded-lg font-bold">PROSSEGUIR PARA ESTRATIFICA√á√ÉO</button>
            </main>
        </div>

        <!-- Tela de Estratificar & Tratar -->
        <div id="estratificar-tratar" class="screen">
            <header class="bg-gray-800 text-white p-4 flex items-center">
                <button onclick="showScreen('dashboard')" class="text-xl mr-4"><i class="fas fa-arrow-left"></i></button>
                <h2 class="text-xl font-semibold">üìä Estratificar & Tratar</h2>
            </header>
            <main class="p-6">
                <div class="mb-6">
                    <h3 class="font-bold text-center mb-2">Passo 1: Como est√° a CONGEST√ÉO?</h3>
                    <p class="text-xs text-gray-500 text-center mb-3">(Estertores, Edema, Ortopneia, Turg√™ncia Jugular)</p>
                    <div class="flex justify-center space-x-4">
                        <button id="btn-seco" onclick="selectCongestion('seco')" class="decision-btn flex-1 p-4 border rounded-lg">‚ö´ SECO</button>
                        <button id="btn-umido" onclick="selectCongestion('umido')" class="decision-btn flex-1 p-4 border rounded-lg">üíß √öMIDO</button>
                    </div>
                </div>
                <div class="mb-6">
                    <h3 class="font-bold text-center mb-2">Passo 2: Como est√° a PERFUS√ÉO?</h3>
                    <p class="text-xs text-gray-500 text-center mb-3">(Pele fria, Hipotens√£o, Enchimento capilar > 2s)</p>
                    <div class="flex justify-center space-x-4">
                        <button id="btn-quente" onclick="selectPerfusion('quente')" class="decision-btn flex-1 p-4 border rounded-lg">üî• QUENTE</button>
                        <button id="btn-frio" onclick="selectPerfusion('frio')" class="decision-btn flex-1 p-4 border rounded-lg">‚ùÑÔ∏è FRIO</button>
                    </div>
                </div>
                
                <div id="perfil-results" class="mt-6 space-y-4">
                    <!-- Perfil A: Quente & Seco -->
                    <div id="perfil-a" class="hidden p-4 border-l-4 border-blue-500 bg-blue-50 rounded-r-lg">
                        <h4 class="font-bold text-blue-800">PERFIL A: QUENTE & SECO</h4>
                        <p class="text-sm mt-2"><strong>Plano de A√ß√£o:</strong> Paciente compensado. Ajustar medica√ß√µes orais (IECA/BRA, Betabloq). Considerar alta se est√°vel.</p>
                    </div>
                    <!-- Perfil B: Quente & √ömido -->
                    <div id="perfil-b" class="hidden p-4 border-l-4 border-green-500 bg-green-50 rounded-r-lg">
                        <h4 class="font-bold text-green-800">PERFIL B: QUENTE & √öMIDO</h4>
                        <p class="text-sm mt-2"><strong>Plano de A√ß√£o Prim√°rio:</strong></p>
                        <ul class="list-disc list-inside text-sm mt-2 space-y-2">
                            <li><strong>Vasodilatador:</strong> Nitroglicerina EV se PAS > 110 mmHg. <button onclick="goToCalculator('vasodilatadores')" class="text-blue-500 underline">[Ver Doses]</button></li>
                            <li><strong>Diur√©tico:</strong> Furosemida EV. <button onclick="goToCalculator('diureticos')" class="text-blue-500 underline">[Calcular Dose]</button></li>
                        </ul>
                         <p class="text-xs mt-3 bg-yellow-100 p-2 rounded">üí° <strong>Dica:</strong> No edema agudo hipertensivo, priorize VNI e Nitroglicerina.</p>
                    </div>
                     <!-- Perfil C: Frio & √ömido -->
                    <div id="perfil-c" class="hidden p-4 border-l-4 border-red-500 bg-red-50 rounded-r-lg">
                        <h4 class="font-bold text-red-800">PERFIL C: FRIO & √öMIDO - ALERTA DE CHOQUE!</h4>
                        <p class="text-sm mt-2"><strong>Plano de A√ß√£o Imediato:</strong></p>
                        <ul class="list-disc list-inside text-sm mt-2 space-y-2">
                            <li>Chame a UTI e o Cardiologista.</li>
                            <li><strong>Se Hipotens√£o (PAM < 65 mmHg):</strong> Inicie Noradrenalina. <button onclick="goToCalculator('ino-pressores')" class="text-blue-500 underline">[Ver Doses]</button></li>
                            <li><strong>Ap√≥s estabilizar PA:</strong> Inicie Dobutamina. <button onclick="goToCalculator('ino-pressores')" class="text-blue-500 underline">[Ver Doses]</button></li>
                            <li>Diur√©ticos? Usar com EXTREMA CAUTELA.</li>
                        </ul>
                         <p class="text-xs mt-3 bg-red-200 p-2 rounded">‚ö†Ô∏è <strong>Cuidado:</strong> Vasodilatadores e diur√©ticos agressivos podem piorar o choque. A prioridade √© a perfus√£o!</p>
                    </div>
                    <!-- Perfil L: Frio & Seco -->
                    <div id="perfil-l" class="hidden p-4 border-l-4 border-yellow-500 bg-yellow-50 rounded-r-lg">
                        <h4 class="font-bold text-yellow-800">PERFIL L: FRIO & SECO (Hipovol√™mico)</h4>
                        <p class="text-sm mt-2"><strong>Plano de A√ß√£o:</strong> Investigar causa da hipoperfus√£o. Prova de volume (250ml SF 0.9%) com cautela e reavalia√ß√£o. Evitar diur√©ticos e vasodilatadores.</p>
                    </div>
                </div>

                <button onclick="showScreen('calculadora-drogas')" class="mt-8 w-full bg-green-500 text-white p-3 rounded-lg font-bold">PROSSEGUIR PARA CALCULADORA</button>
            </main>
        </div>

        <!-- Tela de Calculadora de Drogas -->
        <div id="calculadora-drogas" class="screen">
            <header class="bg-gray-800 text-white p-4 flex items-center">
                <button onclick="showScreen('dashboard')" class="text-xl mr-4"><i class="fas fa-arrow-left"></i></button>
                <h2 class="text-xl font-semibold">üíä Calculadora de Drogas</h2>
            </header>
            <main>
                <div class="border-b border-gray-200">
                    <nav class="-mb-px flex justify-center space-x-6" aria-label="Tabs">
                        <button onclick="switchTab('diureticos')" id="tab-diureticos" class="calculator-tab active whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm">Diur√©ticos</button>
                        <button onclick="switchTab('vasodilatadores')" id="tab-vasodilatadores" class="calculator-tab whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm text-gray-500 hover:text-gray-700">Vasodilatadores</button>
                        <button onclick="switchTab('ino-pressores')" id="tab-ino-pressores" class="calculator-tab whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm text-gray-500 hover:text-gray-700">Drogas Vasoativas</button>
                    </nav>
                </div>
                <div id="content-diureticos" class="p-6">
                    <h3 class="font-bold text-lg mb-4">Calculadora de Furosemida</h3>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700">Paciente usa diur√©tico cronicamente?</label>
                        <div class="flex space-x-4 mt-2">
                             <button id="furo-nao" onclick="toggleFurosemidaUso(false)" class="decision-btn selected flex-1 p-2 border rounded-lg text-sm">N√ÉO (Primeiro Uso)</button>
                             <button id="furo-sim" onclick="toggleFurosemidaUso(true)" class="decision-btn flex-1 p-2 border rounded-lg text-sm">SIM (Uso Cr√¥nico)</button>
                        </div>
                    </div>
                    <div id="furosemida-cronico-div" class="hidden mb-4">
                        <label for="dose-oral" class="block text-sm font-medium text-gray-700">Dose oral di√°ria (mg):</label>
                        <input type="number" id="dose-oral" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2">
                    </div>
                    <button onclick="calcularFurosemida()" class="w-full bg-blue-500 text-white p-2 rounded-lg font-bold">CALCULAR DOSE EV</button>
                    <div id="resultado-furosemida" class="mt-4 p-3 bg-green-100 text-green-800 rounded-lg text-center font-semibold hidden"></div>
                </div>
                <div id="content-vasodilatadores" class="p-6 hidden">
                    <h3 class="font-bold text-lg mb-4">Nitroglicerina (Tridil¬Æ)</h3>
                    <p><strong>Infus√£o:</strong> Iniciar com 10-20 mcg/min.</p>
                    <p><strong>Titula√ß√£o:</strong> Aumentar 5-10 mcg/min a cada 5 minutos, conforme resposta e PA.</p>
                    <div class="mt-4">
                        <h4 class="font-bold text-red-600">Contraindica√ß√µes (CHECKLIST):</h4>
                        <ul class="list-disc list-inside text-sm mt-2 space-y-1">
                            <li>PAS < 100 mmHg</li>
                            <li>Uso de Sildenafil (Viagra¬Æ) ou similar nas √∫ltimas 24-48h</li>
                            <li>Estenose A√≥rtica Grave</li>
                        </ul>
                    </div>
                </div>
                <div id="content-ino-pressores" class="p-6 hidden">
                    <h3 class="font-bold text-lg mb-4">Dobutamina / Noradrenalina</h3>
                     <div class="mb-4">
                        <label for="peso-paciente" class="block text-sm font-medium text-gray-700">Peso do paciente (kg):</label>
                        <input type="number" id="peso-paciente" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2">
                    </div>
                    <button onclick="calcularInotropicos()" class="w-full bg-blue-500 text-white p-2 rounded-lg font-bold">CALCULAR</button>
                    <div id="resultado-inotropicos" class="mt-4 p-3 bg-green-100 text-green-800 rounded-lg hidden"></div>
                </div>
            </main>
        </div>

        <!-- Tela de Investigar Causa -->
        <div id="investigar-causa" class="screen">
            <header class="bg-gray-800 text-white p-4 flex items-center">
                <button onclick="showScreen('dashboard')" class="text-xl mr-4"><i class="fas fa-arrow-left"></i></button>
                <h2 class="text-xl font-semibold">üîç Investigar a Causa</h2>
            </header>
            <main class="p-6">
                <p class="text-sm text-gray-500 mb-4 text-center">Selecione os Fatores Desencadeantes para ver a conduta.</p>
                <div id="checklist-causa" class="space-y-3">
                    <div class="checklist-item bg-gray-50 border p-3 rounded-lg flex items-center" data-target="conduta-c">
                        <i class="far fa-square mr-3"></i><i class="fas fa-check-square mr-3 hidden"></i>
                        <span><span class="font-bold">C</span> - SCA (S√≠ndrome Coronariana Aguda)?</span>
                    </div>
                    <div class="checklist-item bg-gray-50 border p-3 rounded-lg flex items-center" data-target="conduta-h">
                        <i class="far fa-square mr-3"></i><i class="fas fa-check-square mr-3 hidden"></i>
                        <span><span class="font-bold">H</span> - Hipertens√£o n√£o controlada?</span>
                    </div>
                    <div class="checklist-item bg-gray-50 border p-3 rounded-lg flex items-center" data-target="conduta-a">
                        <i class="far fa-square mr-3"></i><i class="fas fa-check-square mr-3 hidden"></i>
                        <span><span class="font-bold">A</span> - Arritmia?</span>
                    </div>
                    <div class="checklist-item bg-gray-50 border p-3 rounded-lg flex items-center" data-target="conduta-m">
                        <i class="far fa-square mr-3"></i><i class="fas fa-check-square mr-3 hidden"></i>
                        <span><span class="font-bold">M</span> - M√° ades√£o (rem√©dio/dieta)?</span>
                    </div>
                    <div class="checklist-item bg-gray-50 border p-3 rounded-lg flex items-center" data-target="conduta-p">
                        <i class="far fa-square mr-3"></i><i class="fas fa-check-square mr-3 hidden"></i>
                        <span><span class="font-bold">P</span> - Pneumonia ou outra Infec√ß√£o?</span>
                    </div>
                    <div class="checklist-item bg-gray-50 border p-3 rounded-lg flex items-center" data-target="conduta-i">
                        <i class="far fa-square mr-3"></i><i class="fas fa-check-square mr-3 hidden"></i>
                        <span><span class="font-bold">I</span> - Isquemia? (similar a SCA)</span>
                    </div>
                    <div class="checklist-item bg-gray-50 border p-3 rounded-lg flex items-center" data-target="conduta-o">
                        <i class="far fa-square mr-3"></i><i class="fas fa-check-square mr-3 hidden"></i>
                        <span><span class="font-bold">O</span> - Obstru√ß√£o (TEP)?</span>
                    </div>
                    <div class="checklist-item bg-gray-50 border p-3 rounded-lg flex items-center" data-target="conduta-n">
                        <i class="far fa-square mr-3"></i><i class="fas fa-check-square mr-3 hidden"></i>
                        <span><span class="font-bold">N</span> - Novos medicamentos (AINEs, corticoides)?</span>
                    </div>
                    <div class="checklist-item bg-gray-50 border p-3 rounded-lg flex items-center" data-target="conduta-s">
                        <i class="far fa-square mr-3"></i><i class="fas fa-check-square mr-3 hidden"></i>
                        <span><span class="font-bold">S</span> - Outros (Anemia, Tireoide)?</span>
                    </div>
                </div>

                <div id="condutas-container" class="mt-6 space-y-2">
                    <div id="conduta-c" class="hidden p-3 border-l-4 border-blue-500 bg-blue-50 rounded-r-lg"><p class="text-sm"><strong>Conduta para SCA:</strong> Solicitar Troponina e ECG seriado. Avaliar antiagrega√ß√£o e anticoagula√ß√£o. Chamar cardiologista.</p></div>
                    <div id="conduta-h" class="hidden p-3 border-l-4 border-blue-500 bg-blue-50 rounded-r-lg"><p class="text-sm"><strong>Conduta para Hipertens√£o:</strong> Otimizar vasodilatadores (NTG). Considerar anti-hipertensivo oral de a√ß√£o r√°pida (ex: Captopril).</p></div>
                    <div id="conduta-a" class="hidden p-3 border-l-4 border-blue-500 bg-blue-50 rounded-r-lg"><p class="text-sm"><strong>Conduta para Arritmia:</strong> Se FA de alta resposta, avaliar controle de frequ√™ncia (Betabloq EV) ou cardiovers√£o se instabilidade.</p></div>
                    <div id="conduta-m" class="hidden p-3 border-l-4 border-blue-500 bg-blue-50 rounded-r-lg"><p class="text-sm"><strong>Conduta para M√° Ades√£o:</strong> Refor√ßar orienta√ß√£o ao paciente e fam√≠lia. Contatar servi√ßo social, se dispon√≠vel.</p></div>
                    <div id="conduta-p" class="hidden p-3 border-l-4 border-blue-500 bg-blue-50 rounded-r-lg"><p class="text-sm"><strong>Conduta para Infec√ß√£o:</strong> Coletar culturas, solicitar Rx de T√≥rax. Iniciar antibi√≥tico emp√≠rico se suspeita alta.</p></div>
                    <div id="conduta-i" class="hidden p-3 border-l-4 border-blue-500 bg-blue-50 rounded-r-lg"><p class="text-sm"><strong>Conduta para Isquemia:</strong> Tratar como SCA. Solicitar Troponina e ECG seriado.</p></div>
                    <div id="conduta-o" class="hidden p-3 border-l-4 border-blue-500 bg-blue-50 rounded-r-lg"><p class="text-sm"><strong>Conduta para TEP:</strong> Se alta suspeita, considerar AngioTC de t√≥rax. Iniciar anticoagula√ß√£o plena.</p></div>
                    <div id="conduta-n" class="hidden p-3 border-l-4 border-blue-500 bg-blue-50 rounded-r-lg"><p class="text-sm"><strong>Conduta para Novos F√°rmacos:</strong> Suspender o medicamento suspeito imediatamente (ex: AINEs, corticoides).</p></div>
                    <div id="conduta-s" class="hidden p-3 border-l-4 border-blue-500 bg-blue-50 rounded-r-lg"><p class="text-sm"><strong>Conduta para Outros:</strong> Solicitar exames direcionados (Hemograma para anemia; TSH/T4L para tireoide).</p></div>
                </div>

                <button onclick="showScreen('criterios-destino')" class="mt-8 w-full bg-green-500 text-white p-3 rounded-lg font-bold">PROSSEGUIR PARA DESTINO</button>
            </main>
        </div>

        <!-- Tela de Crit√©rios de Destino -->
        <div id="criterios-destino" class="screen">
            <header class="bg-gray-800 text-white p-4 flex items-center">
                <button onclick="showScreen('dashboard')" class="text-xl mr-4"><i class="fas fa-arrow-left"></i></button>
                <h2 class="text-xl font-semibold">‚û°Ô∏è Crit√©rios de Destino</h2>
            </header>
            <main class="p-6">
                <div class="mb-6">
                    <h3 class="font-bold mb-3">O paciente precisa de alguma das seguintes interven√ß√µes?</h3>
                    <div id="checklist-destino-uti" class="space-y-3">
                        <div class="checklist-item bg-gray-50 border p-3 rounded-lg flex items-center"><i class="far fa-square mr-3"></i><i class="fas fa-check-square mr-3 hidden"></i><span>Suporte ventilat√≥rio (VNI persistente ou IOT)</span></div>
                        <div class="checklist-item bg-gray-50 border p-3 rounded-lg flex items-center"><i class="far fa-square mr-3"></i><i class="fas fa-check-square mr-3 hidden"></i><span>Drogas vasoativas (Inotr√≥picos, Vasopressores)</span></div>
                        <div class="checklist-item bg-gray-50 border p-3 rounded-lg flex items-center"><i class="far fa-square mr-3"></i><i class="fas fa-check-square mr-3 hidden"></i><span>Monitoriza√ß√£o invasiva da PA</span></div>
                        <div class="checklist-item bg-gray-50 border p-3 rounded-lg flex items-center"><i class="far fa-square mr-3"></i><i class="fas fa-check-square mr-3 hidden"></i><span>SCA, arritmia inst√°vel ou hipoxemia refrat√°ria</span></div>
                    </div>
                </div>
                <button onclick="decidirDestino()" class="w-full bg-blue-500 text-white p-3 rounded-lg font-bold">VER RECOMENDA√á√ÉO</button>
                
                <div id="destino-resultado-uti" class="hidden mt-6 p-4 text-center border-l-4 border-red-500 bg-red-100 rounded-r-lg">
                    <h4 class="font-bold text-xl text-red-800">Recomenda√ß√£o: UTI</h4>
                </div>

                <div id="destino-parte-2" class="hidden mt-6">
                     <hr class="my-6">
                    <h3 class="font-bold mb-3">O paciente est√° est√°vel, eupneico e com boa resposta √† diurese inicial?</h3>
                    <div class="flex space-x-4">
                        <button onclick="recomendarDestinoFinal('enfermaria')" class="decision-btn flex-1 p-3 border rounded-lg bg-green-200">SIM</button>
                        <button onclick="recomendarDestinoFinal('emergencia')" class="decision-btn flex-1 p-3 border rounded-lg bg-yellow-200">N√ÉO</button>
                    </div>
                </div>
                 
                <div id="destino-resultado-final" class="hidden mt-6 p-4 text-center border-l-4 rounded-r-lg">
                    <h4 class="font-bold text-xl"></h4>
                    <p class="text-sm"></p>
                </div>
            </main>
        </div>

    </div>

    <script>
        let estadoCongestao = null;
        let estadoPerfusao = null;
        let usoCronicoFurosemida = false;

        // --- Navega√ß√£o ---
        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');
            window.scrollTo(0, 0);
        }

        // --- Checklists Interativos ---
        document.querySelectorAll('.checklist-item').forEach(item => {
            item.addEventListener('click', () => {
                item.classList.toggle('checked');
                const squareIcon = item.querySelector('.fa-square');
                const checkIcon = item.querySelector('.fa-check-square');
                if (squareIcon && checkIcon) {
                   squareIcon.classList.toggle('hidden');
                   checkIcon.classList.toggle('hidden');
                }
            });
        });

        // --- Checklists da Causa com Conduta ---
        document.querySelectorAll('#checklist-causa .checklist-item').forEach(item => {
            item.addEventListener('click', () => {
                const targetId = item.getAttribute('data-target');
                if (targetId) {
                    const condutaDiv = document.getElementById(targetId);
                    if (condutaDiv) {
                        condutaDiv.classList.toggle('hidden');
                    }
                }
            });
        });

        // --- L√≥gica de Estratifica√ß√£o ---
        function selectCongestion(estado) {
            estadoCongestao = estado;
            document.getElementById('btn-seco').classList.remove('selected');
            document.getElementById('btn-umido').classList.remove('selected');
            document.getElementById(`btn-${estado}`).classList.add('selected');
            avaliarPerfil();
        }

        function selectPerfusion(estado) {
            estadoPerfusao = estado;
            document.getElementById('btn-quente').classList.remove('selected');
            document.getElementById('btn-frio').classList.remove('selected');
            document.getElementById(`btn-${estado}`).classList.add('selected');
            avaliarPerfil();
        }
        
        function avaliarPerfil() {
            if (!estadoCongestao || !estadoPerfusao) return;

            document.getElementById('perfil-a').classList.add('hidden');
            document.getElementById('perfil-b').classList.add('hidden');
            document.getElementById('perfil-c').classList.add('hidden');
            document.getElementById('perfil-l').classList.add('hidden');

            if (estadoPerfusao === 'quente' && estadoCongestao === 'seco') {
                document.getElementById('perfil-a').classList.remove('hidden');
            } else if (estadoPerfusao === 'quente' && estadoCongestao === 'umido') {
                document.getElementById('perfil-b').classList.remove('hidden');
            } else if (estadoPerfusao === 'frio' && estadoCongestao === 'umido') {
                document.getElementById('perfil-c').classList.remove('hidden');
            } else if (estadoPerfusao === 'frio' && estadoCongestao === 'seco') {
                document.getElementById('perfil-l').classList.remove('hidden');
            }
        }
        
        function goToCalculator(tabId) {
            showScreen('calculadora-drogas');
            switchTab(tabId);
        }

        // --- L√≥gica da Calculadora ---
        function switchTab(tabId) {
            // Esconde todos os conte√∫dos
            document.getElementById('content-diureticos').classList.add('hidden');
            document.getElementById('content-vasodilatadores').classList.add('hidden');
            document.getElementById('content-ino-pressores').classList.add('hidden');
            // Remove a classe 'active' de todas as abas
            document.querySelectorAll('.calculator-tab').forEach(tab => tab.classList.remove('active', 'text-blue-600'));
            // Mostra o conte√∫do e ativa a aba correta
            document.getElementById(`content-${tabId}`).classList.remove('hidden');
            document.getElementById(`tab-${tabId}`).classList.add('active', 'text-blue-600');
        }

        function toggleFurosemidaUso(isCronico) {
            usoCronicoFurosemida = isCronico;
            const divCronico = document.getElementById('furosemida-cronico-div');
            const btnSim = document.getElementById('furo-sim');
            const btnNao = document.getElementById('furo-nao');
            if (isCronico) {
                divCronico.classList.remove('hidden');
                btnSim.classList.add('selected');
                btnNao.classList.remove('selected');
            } else {
                divCronico.classList.add('hidden');
                btnSim.classList.remove('selected');
                btnNao.classList.add('selected');
            }
        }

        function calcularFurosemida() {
            const resultadoDiv = document.getElementById('resultado-furosemida');
            let doseMin = 0;
            let doseMax = 0;

            if (usoCronicoFurosemida) {
                const doseOral = parseFloat(document.getElementById('dose-oral').value);
                if (isNaN(doseOral) || doseOral <= 0) {
                    resultadoDiv.textContent = 'Por favor, insira uma dose oral v√°lida.';
                    resultadoDiv.classList.remove('hidden', 'bg-green-100', 'text-green-800');
                    resultadoDiv.classList.add('bg-red-100', 'text-red-800');
                    return;
                }
                doseMin = doseOral;
                doseMax = doseOral * 2.5;
                resultadoDiv.textContent = `Dose EV sugerida: ${doseMin} a ${doseMax} mg`;
            } else {
                resultadoDiv.textContent = 'Dose EV sugerida: 20 a 40 mg';
            }
            
            resultadoDiv.classList.remove('hidden', 'bg-red-100', 'text-red-800');
            resultadoDiv.classList.add('bg-green-100', 'text-green-800');
        }

        function calcularInotropicos() {
            const peso = parseFloat(document.getElementById('peso-paciente').value);
            const resultadoDiv = document.getElementById('resultado-inotropicos');

            if (isNaN(peso) || peso <= 0) {
                resultadoDiv.innerHTML = 'Por favor, insira um peso v√°lido.';
                resultadoDiv.classList.remove('hidden', 'bg-green-100', 'text-green-800');
                resultadoDiv.classList.add('bg-red-100', 'text-red-800');
                return;
            }

            // Assumindo dilui√ß√µes padr√£o:
            // Dobutamina: 250mg em 250ml SG5% = 1000 mcg/ml
            // Noradrenalina: 4mg (1 amp) em 250ml SG5% = 16 mcg/ml
            const concDobutamina = 1000;
            const concNora = 16;
            
            const doseDobutaminaMin = 2.5; // mcg/kg/min
            const doseDobutaminaMax = 20;
            const doseNoraMin = 0.05; // mcg/kg/min
            const doseNoraMax = 1;

            const infusaoDobutaminaMin = ((doseDobutaminaMin * peso * 60) / concDobutamina).toFixed(1);
            const infusaoDobutaminaMax = ((doseDobutaminaMax * peso * 60) / concDobutamina).toFixed(1);
            
            const infusaoNoraMin = ((doseNoraMin * peso * 60) / concNora).toFixed(1);
            const infusaoNoraMax = ((doseNoraMax * peso * 60) / concNora).toFixed(1);
            
            resultadoDiv.innerHTML = `
                <div class="mb-3">
                    <p class="font-bold">Dobutamina (2.5 - 20 mcg/kg/min):</p>
                    <p class="text-sm">Taxa de Infus√£o: <strong>${infusaoDobutaminaMin} - ${infusaoDobutaminaMax} ml/h</strong></p>
                    <p class="text-xs text-gray-500">(Dilui√ß√£o Padr√£o: 250mg/250ml)</p>
                </div>
                <div>
                    <p class="font-bold">Noradrenalina (0.05 - 1 mcg/kg/min):</p>
                    <p class="text-sm">Taxa de Infus√£o: <strong>${infusaoNoraMin} - ${infusaoNoraMax} ml/h</strong></p>
                    <p class="text-xs text-gray-500">(Dilui√ß√£o Padr√£o: 4mg/250ml)</p>
                </div>`;

            resultadoDiv.classList.remove('hidden', 'bg-red-100', 'text-red-800');
            resultadoDiv.classList.add('bg-green-100', 'text-green-800');
        }

        // --- L√≥gica dos Crit√©rios de Destino ---
        function decidirDestino() {
            const checklist = document.getElementById('checklist-destino-uti');
            const itemsChecked = checklist.querySelectorAll('.checklist-item.checked').length > 0;

            const resultadoUTI = document.getElementById('destino-resultado-uti');
            const parte2 = document.getElementById('destino-parte-2');
            const resultadoFinal = document.getElementById('destino-resultado-final');

            resultadoUTI.classList.add('hidden');
            parte2.classList.add('hidden');
            resultadoFinal.classList.add('hidden');

            if (itemsChecked) {
                resultadoUTI.classList.remove('hidden');
            } else {
                parte2.classList.remove('hidden');
            }
        }

        function recomendarDestinoFinal(destino) {
            const resultadoFinal = document.getElementById('destino-resultado-final');
            const titulo = resultadoFinal.querySelector('h4');
            const texto = resultadoFinal.querySelector('p');

            resultadoFinal.className = 'hidden mt-6 p-4 text-center border-l-4 rounded-r-lg'; // Reset classes

            if (destino === 'enfermaria') {
                resultadoFinal.classList.add('border-green-500', 'bg-green-100');
                titulo.className = 'font-bold text-xl text-green-800';
                titulo.textContent = 'Recomenda√ß√£o: ENFERMARIA';
                texto.textContent = '';
            } else {
                resultadoFinal.classList.add('border-yellow-500', 'bg-yellow-100');
                titulo.className = 'font-bold text-xl text-yellow-800';
                titulo.textContent = 'Recomenda√ß√£o: SALA DE EMERG√äNCIA / REAVALIA√á√ÉO CONT√çNUA';
                texto.textContent = 'Manter monitoriza√ß√£o e reavaliar resposta terap√™utica.';
            }

            resultadoFinal.classList.remove('hidden');
        }

    </script>

</body>
</html>







